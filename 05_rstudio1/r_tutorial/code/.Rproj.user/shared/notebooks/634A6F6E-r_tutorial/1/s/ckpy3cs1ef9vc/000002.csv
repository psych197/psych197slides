"0","df.plot = df.data %>% "
"0","  mutate(mode = factor(mode,"
"0","                       levels = c(0, 1),"
"0","                       labels = c(""minor"", ""major"")),"
"0","         key = factor(key,"
"0","                      levels = 0:11,"
"0","                      labels = c(""C"", ""C#"", ""D"", ""D#"","
"0","                                 ""E"", ""F"", ""F#"", ""G"","
"0","                                 ""G#"", ""A"", ""A#"", ""B"")))"
"0",""
"0","ggplot(data = df.plot,"
"0","       mapping = aes(x = key,"
"0","                     y = energy,"
"0","                     group = mode,"
"0","                     fill = mode)) + "
"0","  # add individual data points "
"0","  geom_point(mapping = aes(color = mode),"
"0","             position = position_jitterdodge(dodge.width = 0.7,"
"0","                                             jitter.width = 0.1,"
"0","                                             jitter.height = 0),"
"0","             size = 2,"
"0","             alpha = 0.3) + "
"0","  # add means with error bars "
"0","  stat_summary(fun.data = ""mean_cl_boot"","
"0","               geom = ""pointrange"","
"0","               position = position_dodge(width = 0.7),"
"0","               size = 1,"
"0","               shape = 21) +"
"0","  # add the vertical lines"
"0","  geom_vline(xintercept = seq(from = 1.5, to = 11.5, by = 1),"
"0","             linetype = 2,"
"0","             color = ""gray80"") + "
"0","  # set title and subtitle of plot "
"0","  labs(title = ""Energy for songs with different key and mode"","
"0","       subtitle = ""Energy represents a perceptual measure of intensity and activity."") + "
"0","  # change the y-axis "
"0","  scale_y_continuous(breaks = seq(0, 1, 0.25),"
"0","                     labels = seq(0, 1, 0.25),"
"0","                     limits = c(0, 1)) +"
"0","  # set the fill color "
"0","  scale_fill_brewer(palette = ""Set1"") +"
"0","  # change the plotting theme"
"0","  theme_classic() +"
"0","  # adjust the text size"
"0","  theme(text = element_text(size = 20),"
"0","        plot.subtitle = element_text(size = 16))"
"2","Registered S3 method overwritten by 'htmlwidgets':
  method           from         
  print.htmlwidget tools:rstudio
"
"2","Registered S3 method overwritten by 'data.table':
  method           from
  print.data.table     
"
